webpackJsonp([3],{5695:function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__),__WEBPACK_IMPORTED_MODULE_2__material_ui_core__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_3__components_AttributeTableContent_AttributeTableToolbar__=__webpack_require__(6355),__WEBPACK_IMPORTED_MODULE_4__components_AttributeTableContent_AttributeTableTable__=__webpack_require__(6356),__WEBPACK_IMPORTED_MODULE_5__components_AttributeTableContent_FilterChipContainer__=__webpack_require__(6359),_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),styles=function(e){return{drawer:{width:"100%",maxHeight:"70%",flexShrink:0},drawerPaper:{width:"100%",zIndex:2e4},tableRoot:{display:"flex",justifyContent:"center",flexWrap:"wrap"},tableContent:{backgroundColor:e.palette.action.hover,minWidth:500,height:"100%",margin:e.spacing.unit}}},AttributeTable=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_initialiseProps.call(r);var n=e.layers,a=e.layerId,l=n.find(function(e){return e.id===a}),i=l?r.getRowHeadersAndData(l):"";return r.state={data:i?i.data:"",rowHeaders:i?i.rowHeaders:"",selected:[],filterSentences:[],showFilter:!1},r}return _inherits(t,e),_createClass(t,[{key:"componentDidUpdate",value:function(e){if(e.layerId!==this.props.layerId){var t=this.props,r=t.layers,n=t.layerId,a=r.find(function(e){return e.id===n}),l=a?this.getRowHeadersAndData(a):"";this.setState({data:l?l.data:"",rowHeaders:l?l.rowHeaders:"",layer:a})}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.closeAttribTable,a=e.layerId,l=e.layers,i=this.state,o=i.data,c=i.selected,s=i.rowHeaders,u=i.filterSentences,_=i.showFilter;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__material_ui_core__.j,{className:t.drawer,variant:"persistent",anchor:"bottom",open:r,classes:{paper:t.drawerPaper}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_AttributeTableContent_AttributeTableToolbar__.a,{closeAttribTable:n}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__material_ui_core__.i,null),a?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableRoot},_?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableContent},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_AttributeTableContent_FilterChipContainer__.a,{addNewFilter:this.addNewFilter.bind(this),filterSentences:u,deleteFilterSentence:this.deleteFilterSentence.bind(this),removeAllFilters:this.removeAllFilters.bind(this),rowHeaders:s})):null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableContent},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__components_AttributeTableContent_AttributeTableTable__.a,{layerId:a,layers:l,data:o,rowHeaders:s,selected:c,handleSelectAllClick:this.handleSelectAllClick.bind(this),handleDeleteSelected:this.handleDeleteSelected.bind(this),handleNewLayerFromSelected:this.handleNewLayerFromSelected.bind(this),handleClick:this.handleClick.bind(this),displayFilter:this.displayFilter.bind(this)}))):null))}}]),t}(__WEBPACK_IMPORTED_MODULE_0_react__.Component),_initialiseProps=function _initialiseProps(){var _this2=this;this.getRowHeadersAndData=function(e){var t=[],r=new Set([]);e.data.features.forEach(function(e,n){e.id=e.id?e.id:n;var a={id:e.id};Object.assign(a,e.properties),t.push(a),Object.keys(e.properties).forEach(function(t){r.add(t+" "+_typeof(e.properties[t]))})});var n=[].concat(_toConsumableArray(r)).map(function(e){var t=e.split(" ");return{label:t[0],numeric:"number"===t[1]}});return{data:t,rowHeaders:n}},this.displayFilter=function(){_this2.setState({showFilter:!0})},this.filterSelection=function(filterSentences){var data=_this2.state.data,selected=[];filterSentences.length>0&&data.forEach(function(dataElem,index){var selectElem=!0;filterSentences.forEach(function(filterElem){var query=filterElem.isNumeric?dataElem[filterElem.attrib]+filterElem.operator+filterElem.val:'"'+dataElem[filterElem.attrib]+'".'+filterElem.operator+'("'+filterElem.val.toString()+'")';"equals"===filterElem.operator&&(query='"'+dataElem[filterElem.attrib]+'"==="'+filterElem.val.toString()+'"'),eval(query)||(selectElem=!1)}),selectElem&&selected.push(dataElem.id)}),_this2.setState({selected:selected})},this.addNewFilter=function(e){var t=_this2.state.filterSentences;t.push(e),_this2.filterSelection(t),_this2.setState({filterSentences:t})},this.removeAllFilters=function(){_this2.setState({filterSentences:[],showFilter:!1})},this.deleteFilterSentence=function(e){var t=_this2.state.filterSentences;t.splice(e,1),_this2.filterSelection(t),_this2.setState(t)},this.handleSelectAllClick=function(e){if(e.target.checked)return void _this2.setState(function(e){return{selected:e.data.map(function(e){return e.id})}});_this2.setState({selected:[]})},this.handleDeleteSelected=function(){var e=_this2.props,t=e.receiveNewData,r=e.layerId,n=e.layers,a=_this2.state.selected,l=n.find(function(e){return e.id===r});l.data.features=l.data.features.filter(function(e){return!a.includes(e.id)});var i=l?_this2.getRowHeadersAndData(l):"";_this2.setState({data:i?i.data:"",rowHeaders:i?i.rowHeaders:"",layer:l,selected:[]}),t(r)},this.handleNewLayerFromSelected=function(){var e=_this2.props,t=e.receiveNewJson,r=e.layerId,n=e.layers,a=e.closeAttribTable,l=_this2.state.selected,i=n.find(function(e){return e.id===r}),o=JSON.parse(JSON.stringify(i.data.features));o=o.filter(function(e){return l.includes(e.id)}),t({type:"FeatureCollection",features:o},i.displayName+"_filtered"),a()},this.handleClick=function(e,t){var r=_this2.state.selected,n=r.indexOf(t),a=[];-1===n?a=a.concat(r,t):0===n?a=a.concat(r.slice(1)):n===r.length-1?a=a.concat(r.slice(0,-1)):n>0&&(a=a.concat(r.slice(0,n),r.slice(n+1))),_this2.setState({selected:a})}};__webpack_exports__.default=Object(__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__.withStyles)(styles,{withTheme:!0})(AttributeTable)},6355:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=r.n(i),c=r(28),s=(r.n(c),r(143)),u=r(149),_=r.n(u),f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=function(e){return{content:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit}}},p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),f(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.closeAttribTable;return o.a.createElement(s.K,{className:t.content,disableGutters:!0},o.a.createElement(s.M,{variant:"h5",noWrap:!0},"Attribute Table"),o.a.createElement("div",{style:{flex:1}}),o.a.createElement(s.L,{title:"Close Atribute Table"},o.a.createElement("div",null,o.a.createElement(s.l,{onClick:r},o.a.createElement(_.a,null)))))}}]),t}(i.Component);t.a=Object(c.withStyles)(d,{withTheme:!0})(p)},6356:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function o(e,t){var r=e.map(function(e,t){return[e,t]});return r.sort(function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]}),r.map(function(e){return e[0]})}function c(e,t){return"desc"===e?function(e,r){return i(e,r,t)}:function(e,r){return-i(e,r,t)}}var s=r(0),u=r.n(s),_=r(28),f=(r.n(_),r(143)),d=r(6357),p=r(6358),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),b=function(e){return{}},m=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){r.setState({rowsPerPage:e.target.value})},r.handleRequestSort=function(e,t){var n=t,a="desc";r.state.orderBy===t&&"desc"===r.state.order&&(a="asc"),r.setState({order:a,orderBy:n})},r.isSelected=function(e){return-1!==r.props.selected.indexOf(e)},r.getCells=function(e){return r.props.rowHeaders.map(function(t,r){return u.a.createElement(f.D,{key:r,numeric:t.numeric},e[t.label])})};var l=e.layers,i=e.layerId,o=l.find(function(e){return e.id===i});return r.state={order:"asc",orderBy:"id",page:0,rowsPerPage:5,layer:o},r}return l(t,e),h(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.data,a=t.selected,l=t.rowHeaders,i=t.handleSelectAllClick,s=t.handleClick,_=t.displayFilter,h=t.handleNewLayerFromSelected,b=t.handleDeleteSelected,m=this.state,y=m.order,E=m.orderBy,v=m.rowsPerPage,w=m.page,g=m.layer,O=v-Math.min(v,n.length-w*v);return u.a.createElement("div",null,u.a.createElement(p.a,{handleNewLayerFromSelected:h,handleDeleteSelected:b,displayFilter:_,numSelected:a.length,layer:g}),u.a.createElement(f.B,{className:r.table,"aria-labelledby":"tableTitle"},u.a.createElement(d.a,{numSelected:a.length,order:y,orderBy:E,onSelectAllClick:i,onRequestSort:this.handleRequestSort,rowCount:n.length,rowHeaders:l}),u.a.createElement(f.C,null,o(n,c(y,E)).slice(w*v,w*v+v).map(function(t){var r=e.isSelected(t.id);return u.a.createElement(f.G,{hover:!0,onClick:function(e){return s(e,t.id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:t.id,selected:r},u.a.createElement(f.D,{padding:"checkbox"},u.a.createElement(f.c,{checked:r})),e.getCells(t))}),O>0&&u.a.createElement(f.G,{style:{height:49*O}},u.a.createElement(f.D,{colSpan:6})))),u.a.createElement(f.F,{component:"div",count:n.length,rowsPerPage:v,page:w,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(s.Component);t.a=Object(_.withStyles)(b,{withTheme:!0})(m)},6357:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=r.n(i),c=r(28),s=(r.n(c),r(143)),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_=function(e){return{head:{backgroundColor:e.palette.primary.dark}}},f=function(e){function t(){var e,r,l,i;n(this,t);for(var o=arguments.length,c=Array(o),s=0;s<o;s++)c[s]=arguments[s];return r=l=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),l.createSortHandler=function(e){return function(t){l.props.onRequestSort(t,e)}},i=r,a(l,i)}return l(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.onSelectAllClick,n=t.order,a=t.orderBy,l=t.numSelected,i=t.rowCount,c=t.rowHeaders,u=t.classes;return o.a.createElement(s.E,{className:u.head},o.a.createElement(s.G,null,o.a.createElement(s.D,{padding:"checkbox"},o.a.createElement(s.c,{indeterminate:l>0&&l<i,checked:l===i,onChange:r})),c.map(function(t){return o.a.createElement(s.D,{key:t.label,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:a===t.label&&n},o.a.createElement(s.L,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},o.a.createElement(s.H,{active:a===t.label,direction:n,onClick:e.createSortHandler(t.label)},t.label)))},this)))}}]),t}(i.Component);t.a=Object(c.withStyles)(_,{withTheme:!0})(f)},6358:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),c=r.n(o),s=r(8),u=r.n(s),_=r(28),f=(r.n(_),r(143)),d=r(145),p=r.n(d),h=r(162),b=r.n(h),m=r(161),y=r.n(m),E=r(29),v=(r.n(E),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),w=function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(E.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},actionDiv:{display:"inline-flex"}}},g=function(e){function t(){return a(this,t),l(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),v(t,[{key:"render",value:function(){var e=this.props,t=e.displayFilter,r=e.numSelected,a=e.classes,l=e.layer,i=e.handleDeleteSelected,o=e.handleNewLayerFromSelected;return c.a.createElement(f.K,{className:u()(a.root,n({},a.highlight,r>0))},c.a.createElement("div",{className:a.title},r>0?c.a.createElement(f.M,{color:"inherit",variant:"subtitle1"},r," selected"):c.a.createElement(f.M,{variant:"h6",id:"tableTitle"},l.displayName)),c.a.createElement("div",{className:a.spacer}),c.a.createElement("div",{className:a.actions},r>0?c.a.createElement("div",{className:a.actionDiv},c.a.createElement(f.L,{title:"New Layer From Selection"},c.a.createElement(f.l,{"aria-label":"New",onClick:o},c.a.createElement(b.a,null))),c.a.createElement(f.L,{title:"Delete Selection"},c.a.createElement(f.l,{"aria-label":"Delete",onClick:i},c.a.createElement(p.a,null)))):c.a.createElement(f.L,{title:"Filter list"},c.a.createElement(f.l,{"aria-label":"Filter list",onClick:t},c.a.createElement(y.a,null)))))}}]),t}(o.Component);t.a=Object(_.withStyles)(w,{withTheme:!0})(g)},6359:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function l(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var i=r(0),o=r.n(i),c=r(28),s=(r.n(c),r(143)),u=r(149),_=r.n(u),f=r(6360),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e){return{spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},chip:{margin:e.spacing.unit},button:{margin:e.spacing.unit,minWidth:0}}},h=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.state={},r}return l(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.filterSentences,n=e.addNewFilter,a=e.deleteFilterSentence,l=e.removeAllFilters,i=e.rowHeaders;return o.a.createElement("div",null,o.a.createElement(s.K,{className:t.root},o.a.createElement("div",{className:t.title},o.a.createElement(s.M,{variant:"h6"},"Filter Attributes")),o.a.createElement("div",{className:t.spacer}),o.a.createElement("div",{className:t.actions},o.a.createElement(s.L,{title:"Remove Filters"},o.a.createElement(s.l,{"aria-label":"Close",onClick:l},o.a.createElement(_.a,null))))),o.a.createElement(f.a,{label:"wip",submitFilter:n,rowHeaders:i}),r.map(function(e,t){var r=e.attrib+" "+e.operator+" "+e.val;return o.a.createElement(f.a,{key:t,label:r,sentence:r,index:t,deleteSentence:a})}))}}]),t}(i.Component);t.a=Object(c.withStyles)(p,{withTheme:!0})(h)},6360:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),c=r.n(o),s=r(28),u=(r.n(s),r(143)),_=r(145),f=r.n(_),d=r(160),p=r.n(d),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),b=[">",">=","<","<=","==","!="],m=["equals","includes","startsWith"],y=function(e){return{mainDiv:{borderRadius:2,margin:e.spacing.unit,listStyle:"none",backgroundColor:e.palette.action.hover},select:{marginRight:e.spacing.unit,marginTop:0,marginBottom:0,minWidth:80}}},E=function(e){function t(e){a(this,t);var r=l(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){return function(t){var a=r.state.isNumeric,l=r.props.rowHeaders,i=t.target.value;"attrib"===e&&r.setState({isNumeric:l.find(function(e){return e.label===i}).numeric}),"val"===e&&a&&(isNaN(Number(i))?r.setState({TextFieldError:!0}):""!==i&&(i=Number(i),r.setState({TextFieldError:!1}))),r.setState(n({},e,i))}},r.submitFilter=function(){var e=r.state,t=e.attrib,n=e.operator,a=e.val,l=e.isNumeric;t&&n&&a&&(r.setState({attrib:"",operator:"",val:""}),r.props.submitFilter({attrib:t,operator:n,val:a,isNumeric:l}))},r.state={attrib:"",operator:"",val:""},r}return i(t,e),h(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.keyupHandler.bind(this))}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.keyupHandler.bind(this))}},{key:"keyupHandler",value:function(e){13===e.keyCode&&this.submitFilter()}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.sentence,a=t.index,l=t.deleteSentence,i=t.label,o=t.rowHeaders,s=this.state,_=s.attrib,d=s.operator,h=s.val,y=s.isNumeric,E=s.TextFieldError,v=y?b:m,w=E?"Input must be a number":"",g=E||!_||!d||0===h.length;return c.a.createElement("div",{className:r.mainDiv},"wip"===i?c.a.createElement(u.p,{button:!0,style:{padding:5}},c.a.createElement(u.s,null,c.a.createElement(u.x,{className:r.select,label:"Attribute",value:_,placeholder:"Attribute",onChange:this.handleChange("attrib"),input:c.a.createElement(u.m,{name:"name",id:"attrib-disabled"})},o.map(function(e,t){return c.a.createElement(u.u,{key:t,value:e.label},e.label)})),c.a.createElement(u.x,{className:r.select,disabled:_.length<1,value:d,placeholder:"Operator",onChange:this.handleChange("operator"),input:c.a.createElement(u.m,{name:"operator",id:"operator"})},v.map(function(e,t){return c.a.createElement(u.u,{key:t,value:e},e)})),c.a.createElement(u.J,{className:r.select,value:h,disabled:_.length<1,onChange:this.handleChange("val"),margin:"normal",error:E,helperText:w})),c.a.createElement(u.r,null,c.a.createElement(u.l,{"aria-label":"Add",disabled:g,onClick:function(){return e.submitFilter()}},c.a.createElement(p.a,{color:"primary"})))):c.a.createElement(u.p,{button:!0,style:{padding:5}},c.a.createElement(u.s,{secondary:n}),c.a.createElement(u.r,null,c.a.createElement(u.l,{"aria-label":"Delete",onClick:function(){return l(a)}},c.a.createElement(f.a,null)))))}}]),t}(o.Component);t.a=Object(s.withStyles)(y,{withTheme:!0})(E)}});
//# sourceMappingURL=3.072c9422.chunk.js.map
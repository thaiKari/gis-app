webpackJsonp([1],{5695:function(module,__webpack_exports__,__webpack_require__){"use strict";function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function _inherits(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(__webpack_exports__,"__esModule",{value:!0});var __WEBPACK_IMPORTED_MODULE_0_react__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_0_react___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__),__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__=__webpack_require__(28),__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__),__WEBPACK_IMPORTED_MODULE_2__material_ui_core__=__webpack_require__(143),__WEBPACK_IMPORTED_MODULE_3__components_AttributeTableContent_AttributeTableToolbar__=__webpack_require__(6355),__WEBPACK_IMPORTED_MODULE_4__components_AttributeTableContent_AttributeTableTable__=__webpack_require__(6356),__WEBPACK_IMPORTED_MODULE_5__components_AttributeTableContent_FilterChipContainer__=__webpack_require__(6359),__WEBPACK_IMPORTED_MODULE_6__utils_geoprocessing_areaOfPolygons__=__webpack_require__(6361),_typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_createClass=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),styles=function(e){return{drawer:{width:"100%",maxHeight:"70%",flexShrink:0},drawerPaper:{width:"100%",zIndex:2e4},tableRoot:{display:"flex",justifyContent:"center",flexWrap:"wrap"},tableContent:{backgroundColor:e.palette.action.hover,minWidth:500,height:"100%",margin:e.spacing.unit}}},AttributeTable=function(e){function t(e){_classCallCheck(this,t);var r=_possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));_initialiseProps.call(r);var n=e.layers,a=e.layerId,i=n.find(function(e){return e.id===a}),o=i?r.getRowHeadersAndData(i):"";return r.state={data:o?o.data:"",rowHeaders:o?o.rowHeaders:"",selected:[],filterSentences:[],showFilter:!1},r}return _inherits(t,e),_createClass(t,[{key:"componentDidUpdate",value:function(e){if(e.layerId!==this.props.layerId){var t=this.props,r=t.layers,n=t.layerId,a=r.find(function(e){return e.id===n}),i=a?this.getRowHeadersAndData(a):"";this.setState({data:i?i.data:"",rowHeaders:i?i.rowHeaders:"",layer:a})}}},{key:"render",value:function(){var e=this.props,t=e.classes,r=e.open,n=e.closeAttribTable,a=e.layerId,i=e.layers,o=this.state,l=o.data,c=o.selected,s=o.rowHeaders,u=o.filterSentences,f=o.showFilter;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__material_ui_core__.j,{className:t.drawer,variant:"persistent",anchor:"bottom",open:r,classes:{paper:t.drawerPaper}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__components_AttributeTableContent_AttributeTableToolbar__.a,{closeAttribTable:n}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__material_ui_core__.i,null),a?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableRoot},f?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableContent},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_5__components_AttributeTableContent_FilterChipContainer__.a,{addNewFilter:this.addNewFilter.bind(this),filterSentences:u,deleteFilterSentence:this.deleteFilterSentence.bind(this),removeAllFilters:this.removeAllFilters.bind(this),rowHeaders:s})):null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement("div",{className:t.tableContent},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_4__components_AttributeTableContent_AttributeTableTable__.a,{layerId:a,layers:i,data:l,rowHeaders:s,selected:c,handleSelectAllClick:this.handleSelectAllClick.bind(this),handleDeleteSelected:this.handleDeleteSelected.bind(this),handleNewLayerFromSelected:this.handleNewLayerFromSelected.bind(this),handleClick:this.handleClick.bind(this),displayFilter:this.displayFilter.bind(this),addAreaColumn:this.addAreaColumn.bind(this)}))):null))}}]),t}(__WEBPACK_IMPORTED_MODULE_0_react__.Component),_initialiseProps=function _initialiseProps(){var _this2=this;this.getRowHeadersAndData=function(e){var t=[],r=new Set([]),n={};e.data.features.forEach(function(e,a){e.id=e.id?e.id:a;var i={};Object.assign(i,e.properties),i.id=e.id,t.push(i),Object.keys(e.properties).forEach(function(t){r.add(t),n[t]=_typeof(e.properties[t])})});var a=[].concat(_toConsumableArray(r)).map(function(e){return{label:e,numeric:"number"===n[e]}});return{data:t,rowHeaders:a}},this.displayFilter=function(){_this2.setState({showFilter:!0})},this.filterSelection=function(filterSentences){var data=_this2.state.data,selected=[];filterSentences.length>0&&data.forEach(function(dataElem,index){var selectElem=!0;filterSentences.forEach(function(filterElem){var query=filterElem.isNumeric?dataElem[filterElem.attrib]+filterElem.operator+filterElem.val:'"'+dataElem[filterElem.attrib]+'".'+filterElem.operator+'("'+filterElem.val.toString()+'")';"equals"===filterElem.operator&&(query='"'+dataElem[filterElem.attrib]+'"==="'+filterElem.val.toString()+'"'),eval(query)||(selectElem=!1)}),selectElem&&selected.push(dataElem.id)}),_this2.setState({selected:selected})},this.addNewFilter=function(e){var t=_this2.state.filterSentences;t.push(e),_this2.filterSelection(t),_this2.setState({filterSentences:t})},this.removeAllFilters=function(){_this2.setState({filterSentences:[],showFilter:!1})},this.deleteFilterSentence=function(e){var t=_this2.state.filterSentences;t.splice(e,1),_this2.filterSelection(t),_this2.setState(t)},this.handleSelectAllClick=function(e){if(e.target.checked)return void _this2.setState(function(e){return{selected:e.data.map(function(e){return e.id})}});_this2.setState({selected:[]})},this.handleDeleteSelected=function(){var e=_this2.props,t=e.receiveNewData,r=e.layerId,n=e.layers,a=_this2.state.selected,i=n.find(function(e){return e.id===r});i.data.features=i.data.features.filter(function(e){return!a.includes(e.id)});var o=i?_this2.getRowHeadersAndData(i):"";_this2.setState({data:o?o.data:"",rowHeaders:o?o.rowHeaders:"",layer:i,selected:[]}),t(r)},this.handleNewLayerFromSelected=function(){var e=_this2.props,t=e.receiveNewJson,r=e.layerId,n=e.layers,a=e.closeAttribTable,i=_this2.state.selected,o=n.find(function(e){return e.id===r}),l=JSON.parse(JSON.stringify(o.data.features));l=l.filter(function(e){return i.includes(e.id)}),t({type:"FeatureCollection",features:l},o.displayName+"_filtered"),a()},this.handleClick=function(e,t){var r=_this2.state.selected,n=r.indexOf(t),a=[];-1===n?a=a.concat(r,t):0===n?a=a.concat(r.slice(1)):n===r.length-1?a=a.concat(r.slice(0,-1)):n>0&&(a=a.concat(r.slice(0,n),r.slice(n+1))),_this2.setState({selected:a})},this.addAreaColumn=function(){var e=_this2.props,t=e.layers,r=e.layerId,n=t.find(function(e){return e.id===r});n.data=Object(__WEBPACK_IMPORTED_MODULE_6__utils_geoprocessing_areaOfPolygons__.a)(n.data);var a=n?_this2.getRowHeadersAndData(n):"";_this2.setState({data:a?a.data:"",rowHeaders:a?a.rowHeaders:""})}};__webpack_exports__.default=Object(__WEBPACK_IMPORTED_MODULE_1__material_ui_core_styles__.withStyles)(styles,{withTheme:!0})(AttributeTable)},5740:function(e,t,r){"use strict";function n(e,t,r){void 0===r&&(r={});var n={type:"Feature"};return(0===r.id||r.id)&&(n.id=r.id),r.bbox&&(n.bbox=r.bbox),n.properties=t||{},n.geometry=e,n}function a(e,t,r){switch(void 0===r&&(r={}),e){case"Point":return i(t).geometry;case"LineString":return s(t).geometry;case"Polygon":return l(t).geometry;case"MultiPoint":return h(t).geometry;case"MultiLineString":return d(t).geometry;case"MultiPolygon":return _(t).geometry;default:throw new Error(e+" is invalid")}}function i(e,t,r){return void 0===r&&(r={}),n({type:"Point",coordinates:e},t,r)}function o(e,t,r){return void 0===r&&(r={}),f(e.map(function(e){return i(e,t)}),r)}function l(e,t,r){void 0===r&&(r={});for(var a=0,i=e;a<i.length;a++){var o=i[a];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var l=0;l<o[o.length-1].length;l++)if(o[o.length-1][l]!==o[0][l])throw new Error("First and last Position are not equivalent.")}return n({type:"Polygon",coordinates:e},t,r)}function c(e,t,r){return void 0===r&&(r={}),f(e.map(function(e){return l(e,t)}),r)}function s(e,t,r){if(void 0===r&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");return n({type:"LineString",coordinates:e},t,r)}function u(e,t,r){return void 0===r&&(r={}),f(e.map(function(e){return s(e,t)}),r)}function f(e,t){void 0===t&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function d(e,t,r){return void 0===r&&(r={}),n({type:"MultiLineString",coordinates:e},t,r)}function h(e,t,r){return void 0===r&&(r={}),n({type:"MultiPoint",coordinates:e},t,r)}function _(e,t,r){return void 0===r&&(r={}),n({type:"MultiPolygon",coordinates:e},t,r)}function p(e,t,r){return void 0===r&&(r={}),n({type:"GeometryCollection",geometries:e},t,r)}function m(e,t){if(void 0===t&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var r=Math.pow(10,t||0);return Math.round(e*r)/r}function b(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e*n}function y(e,r){void 0===r&&(r="kilometers");var n=t.factors[r];if(!n)throw new Error(r+" units is invalid");return e/n}function g(e,t){return v(y(e,t))}function E(e){var t=e%360;return t<0&&(t+=360),t}function v(e){return e%(2*Math.PI)*180/Math.PI}function w(e){return e%360*Math.PI/180}function P(e,t,r){if(void 0===t&&(t="kilometers"),void 0===r&&(r="kilometers"),!(e>=0))throw new Error("length must be a positive number");return b(y(e,t),r)}function O(e,r,n){if(void 0===r&&(r="meters"),void 0===n&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var a=t.areaFactors[r];if(!a)throw new Error("invalid original units");var i=t.areaFactors[n];if(!i)throw new Error("invalid final units");return e/a*i}function C(e){return!isNaN(e)&&null!==e&&!Array.isArray(e)&&!/^\s*$/.test(e)}function S(e){return!!e&&e.constructor===Object}function k(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(4!==e.length&&6!==e.length)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(e){if(!C(e))throw new Error("bbox must only contain numbers")})}function M(e){if(!e)throw new Error("id is required");if(-1===["string","number"].indexOf(typeof e))throw new Error("id must be a number or a string")}function T(){throw new Error("method has been renamed to `radiansToDegrees`")}function D(){throw new Error("method has been renamed to `degreesToRadians`")}function A(){throw new Error("method has been renamed to `lengthToDegrees`")}function R(){throw new Error("method has been renamed to `lengthToRadians`")}function L(){throw new Error("method has been renamed to `radiansToLength`")}function j(){throw new Error("method has been renamed to `bearingToAzimuth`")}function F(){throw new Error("method has been renamed to `convertLength`")}Object.defineProperty(t,"__esModule",{value:!0}),t.earthRadius=6371008.8,t.factors={centimeters:100*t.earthRadius,centimetres:100*t.earthRadius,degrees:t.earthRadius/111325,feet:3.28084*t.earthRadius,inches:39.37*t.earthRadius,kilometers:t.earthRadius/1e3,kilometres:t.earthRadius/1e3,meters:t.earthRadius,metres:t.earthRadius,miles:t.earthRadius/1609.344,millimeters:1e3*t.earthRadius,millimetres:1e3*t.earthRadius,nauticalmiles:t.earthRadius/1852,radians:1,yards:t.earthRadius/1.0936},t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/t.earthRadius,yards:1/1.0936},t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:3.86e-7,millimeters:1e6,millimetres:1e6,yards:1.195990046},t.feature=n,t.geometry=a,t.point=i,t.points=o,t.polygon=l,t.polygons=c,t.lineString=s,t.lineStrings=u,t.featureCollection=f,t.multiLineString=d,t.multiPoint=h,t.multiPolygon=_,t.geometryCollection=p,t.round=m,t.radiansToLength=b,t.lengthToRadians=y,t.lengthToDegrees=g,t.bearingToAzimuth=E,t.radiansToDegrees=v,t.degreesToRadians=w,t.convertLength=P,t.convertArea=O,t.isNumber=C,t.isObject=S,t.validateBBox=k,t.validateId=M,t.radians2degrees=T,t.degrees2radians=D,t.distanceToDegrees=A,t.distanceToRadians=R,t.radiansToDistance=L,t.bearingToAngle=j,t.convertDistance=F},6355:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),l=r.n(o),c=r(28),s=(r.n(c),r(143)),u=r(149),f=r.n(u),d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),h=function(e){return{content:{paddingLeft:3*e.spacing.unit,paddingRight:3*e.spacing.unit}}},_=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.closeAttribTable;return l.a.createElement(s.K,{className:t.content,disableGutters:!0},l.a.createElement(s.M,{variant:"h5",noWrap:!0},"Attribute Table"),l.a.createElement("div",{style:{flex:1}}),l.a.createElement(s.L,{title:"Close Atribute Table"},l.a.createElement("div",null,l.a.createElement(s.l,{onClick:r},l.a.createElement(f.a,null)))))}}]),t}(o.Component);t.a=Object(c.withStyles)(h,{withTheme:!0})(_)},6356:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function o(e,t,r){return t[r]<e[r]?-1:t[r]>e[r]?1:0}function l(e,t){var r=e.map(function(e,t){return[e,t]});return r.sort(function(e,r){var n=t(e[0],r[0]);return 0!==n?n:e[1]-r[1]}),r.map(function(e){return e[0]})}function c(e,t){return"desc"===e?function(e,r){return o(e,r,t)}:function(e,r){return-o(e,r,t)}}var s=r(0),u=r.n(s),f=r(28),d=(r.n(f),r(143)),h=r(6357),_=r(6358),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=function(e){return{}},b=function(e){function t(e){n(this,t);var r=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));r.handleChangePage=function(e,t){r.setState({page:t})},r.handleChangeRowsPerPage=function(e){r.setState({rowsPerPage:e.target.value})},r.handleRequestSort=function(e,t){var n=t,a="desc";r.state.orderBy===t&&"desc"===r.state.order&&(a="asc"),r.setState({order:a,orderBy:n})},r.isSelected=function(e){return-1!==r.props.selected.indexOf(e)},r.getCells=function(e){return r.props.rowHeaders.map(function(t,r){return u.a.createElement(d.D,{key:r,numeric:t.numeric},e[t.label])})};var i=e.layers,o=e.layerId,l=i.find(function(e){return e.id===o});return r.state={order:"asc",orderBy:"id",page:0,rowsPerPage:5,layer:l},r}return i(t,e),p(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.data,a=t.selected,i=t.rowHeaders,o=t.handleSelectAllClick,s=t.addAreaColumn,f=t.handleClick,p=t.displayFilter,m=t.handleNewLayerFromSelected,b=t.handleDeleteSelected,y=this.state,g=y.order,E=y.orderBy,v=y.rowsPerPage,w=y.page,P=y.layer,O=v-Math.min(v,n.length-w*v);return u.a.createElement("div",null,u.a.createElement(_.a,{addAreaColumn:s,handleNewLayerFromSelected:m,handleDeleteSelected:b,displayFilter:p,numSelected:a.length,layer:P}),u.a.createElement(d.B,{className:r.table,"aria-labelledby":"tableTitle"},u.a.createElement(h.a,{numSelected:a.length,order:g,orderBy:E,onSelectAllClick:o,onRequestSort:this.handleRequestSort,rowCount:n.length,rowHeaders:i}),u.a.createElement(d.C,null,l(n,c(g,E)).slice(w*v,w*v+v).map(function(t){var r=e.isSelected(t.id);return u.a.createElement(d.G,{hover:!0,onClick:function(e){return f(e,t.id)},role:"checkbox","aria-checked":r,tabIndex:-1,key:t.id,selected:r},u.a.createElement(d.D,{padding:"checkbox"},u.a.createElement(d.c,{checked:r})),e.getCells(t))}),O>0&&u.a.createElement(d.G,{style:{height:49*O}},u.a.createElement(d.D,{colSpan:6})))),u.a.createElement(d.F,{component:"div",count:n.length,rowsPerPage:v,page:w,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onChangePage:this.handleChangePage,onChangeRowsPerPage:this.handleChangeRowsPerPage}))}}]),t}(s.Component);t.a=Object(f.withStyles)(m,{withTheme:!0})(b)},6357:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),l=r.n(o),c=r(28),s=(r.n(c),r(143)),u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e){return{head:{backgroundColor:e.palette.primary.dark}}},d=function(e){function t(){var e,r,i,o;n(this,t);for(var l=arguments.length,c=Array(l),s=0;s<l;s++)c[s]=arguments[s];return r=i=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.createSortHandler=function(e){return function(t){i.props.onRequestSort(t,e)}},o=r,a(i,o)}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.onSelectAllClick,n=t.order,a=t.orderBy,i=t.numSelected,o=t.rowCount,c=t.rowHeaders,u=t.classes;return l.a.createElement(s.E,{className:u.head},l.a.createElement(s.G,null,l.a.createElement(s.D,{padding:"checkbox"},l.a.createElement(s.c,{indeterminate:i>0&&i<o,checked:i===o,onChange:r})),c.map(function(t){return l.a.createElement(s.D,{key:t.label,numeric:t.numeric,padding:t.disablePadding?"none":"default",sortDirection:a===t.label&&n},l.a.createElement(s.L,{title:"Sort",placement:t.numeric?"bottom-end":"bottom-start",enterDelay:300},l.a.createElement(s.H,{active:a===t.label,direction:n,onClick:e.createSortHandler(t.label)},t.label)))},this)))}}]),t}(o.Component);t.a=Object(c.withStyles)(f,{withTheme:!0})(d)},6358:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=r(0),c=r.n(l),s=r(8),u=r.n(s),f=r(28),d=(r.n(f),r(143)),h=r(145),_=r.n(h),p=r(162),m=r.n(p),b=r(161),y=r.n(b),g=r(164),E=r.n(g),v=r(29),w=(r.n(v),function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}()),P=function(e){return{root:{paddingRight:e.spacing.unit},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:Object(v.lighten)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},actionDiv:{display:"inline-flex"}}},O=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.displayFilter,r=e.numSelected,a=e.classes,i=e.layer,o=e.addAreaColumn,l=e.handleDeleteSelected,s=e.handleNewLayerFromSelected;return c.a.createElement(d.K,{className:u()(a.root,n({},a.highlight,r>0))},c.a.createElement("div",{className:a.title},r>0?c.a.createElement(d.M,{color:"inherit",variant:"subtitle1"},r," selected"):c.a.createElement(d.M,{variant:"h6",id:"tableTitle"},i.displayName)),c.a.createElement("div",{className:a.spacer}),c.a.createElement("div",{className:a.actions},r>0?c.a.createElement("div",{className:a.actionDiv},c.a.createElement(d.L,{title:"New Layer From Selection"},c.a.createElement(d.l,{"aria-label":"New",onClick:s},c.a.createElement(m.a,null))),c.a.createElement(d.L,{title:"Delete Selection"},c.a.createElement(d.l,{"aria-label":"Delete",onClick:l},c.a.createElement(_.a,null)))):c.a.createElement("div",{className:a.actionDiv},"Polygon"===i.type||"MultiPolygon"===i.type?c.a.createElement(d.L,{title:"Calculate Area"},c.a.createElement(d.l,{"aria-label":"calculate",onClick:o},c.a.createElement(E.a,null))):null,c.a.createElement(d.L,{title:"Filter list"},c.a.createElement(d.l,{"aria-label":"Filter list",onClick:t},c.a.createElement(y.a,null))))))}}]),t}(l.Component);t.a=Object(f.withStyles)(P,{withTheme:!0})(O)},6359:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var o=r(0),l=r.n(o),c=r(28),s=(r.n(c),r(143)),u=r(149),f=r.n(u),d=r(6360),h=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_=function(e){return{spacer:{flex:"1 1 100%"},actions:{color:e.palette.text.secondary},title:{flex:"0 0 auto"},chip:{margin:e.spacing.unit},button:{margin:e.spacing.unit,minWidth:0}}},p=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),h(t,[{key:"render",value:function(){var e=this.props,t=e.classes,r=e.filterSentences,n=e.addNewFilter,a=e.deleteFilterSentence,i=e.removeAllFilters,o=e.rowHeaders;return l.a.createElement("div",null,l.a.createElement(s.K,{className:t.root},l.a.createElement("div",{className:t.title},l.a.createElement(s.M,{variant:"h6"},"Filter Attributes")),l.a.createElement("div",{className:t.spacer}),l.a.createElement("div",{className:t.actions},l.a.createElement(s.L,{title:"Remove Filters"},l.a.createElement(s.l,{"aria-label":"Close",onClick:i},l.a.createElement(f.a,null))))),l.a.createElement(d.a,{label:"wip",submitFilter:n,rowHeaders:o}),r.map(function(e,t){var r=e.attrib+" "+e.operator+" "+e.val;return l.a.createElement(d.a,{key:t,label:r,sentence:r,index:t,deleteSentence:a})}))}}]),t}(o.Component);t.a=Object(c.withStyles)(_,{withTheme:!0})(p)},6360:function(e,t,r){"use strict";function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=r(0),c=r.n(l),s=r(28),u=(r.n(s),r(143)),f=r(145),d=r.n(f),h=r(160),_=r.n(h),p=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),m=[">",">=","<","<=","==","!="],b=["equals","includes","startsWith"],y=function(e){return{mainDiv:{borderRadius:2,margin:e.spacing.unit,listStyle:"none",backgroundColor:e.palette.action.hover},select:{marginRight:e.spacing.unit,marginTop:0,marginBottom:0,minWidth:80}}},g=function(e){function t(e){a(this,t);var r=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.handleChange=function(e){return function(t){var a=r.state.isNumeric,i=r.props.rowHeaders,o=t.target.value;"attrib"===e&&r.setState({isNumeric:i.find(function(e){return e.label===o}).numeric}),"val"===e&&a&&(isNaN(Number(o))?r.setState({TextFieldError:!0}):""!==o&&(o=Number(o),r.setState({TextFieldError:!1}))),r.setState(n({},e,o))}},r.submitFilter=function(){var e=r.state,t=e.attrib,n=e.operator,a=e.val,i=e.isNumeric;t&&n&&a&&(r.setState({attrib:"",operator:"",val:""}),r.props.submitFilter({attrib:t,operator:n,val:a,isNumeric:i}))},r.keyupHandler=r.keyupHandler.bind(r),r.state={attrib:"",operator:"",val:""},r}return o(t,e),p(t,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.keyupHandler,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keyup",this.keyupHandler,!1)}},{key:"keyupHandler",value:function(e){13===e.keyCode&&this.submitFilter()}},{key:"render",value:function(){var e=this,t=this.props,r=t.classes,n=t.sentence,a=t.index,i=t.deleteSentence,o=t.label,l=t.rowHeaders,s=this.state,f=s.attrib,h=s.operator,p=s.val,y=s.isNumeric,g=s.TextFieldError,E=y?m:b,v=g?"Input must be a number":"",w=g||!f||!h||0===p.length;return c.a.createElement("div",{className:r.mainDiv},"wip"===o?c.a.createElement(u.p,{button:!0,style:{padding:5}},c.a.createElement(u.s,null,c.a.createElement(u.x,{className:r.select,label:"Attribute",value:f,placeholder:"Attribute",onChange:this.handleChange("attrib"),input:c.a.createElement(u.m,{name:"name",id:"attrib-disabled"})},l.map(function(e,t){return c.a.createElement(u.u,{key:t,value:e.label},e.label)})),c.a.createElement(u.x,{className:r.select,disabled:f.length<1,value:h,placeholder:"Operator",onChange:this.handleChange("operator"),input:c.a.createElement(u.m,{name:"operator",id:"operator"})},E.map(function(e,t){return c.a.createElement(u.u,{key:t,value:e},e)})),c.a.createElement(u.J,{className:r.select,value:p,disabled:f.length<1,onChange:this.handleChange("val"),margin:"normal",error:g,helperText:v})),c.a.createElement(u.r,null,c.a.createElement(u.l,{"aria-label":"Add",disabled:w,onClick:function(){return e.submitFilter()}},c.a.createElement(_.a,{color:"primary"})))):c.a.createElement(u.p,{button:!0,style:{padding:5}},c.a.createElement(u.s,{secondary:n}),c.a.createElement(u.r,null,c.a.createElement(u.l,{"aria-label":"Delete",onClick:function(){return i(a)}},c.a.createElement(d.a,null)))))}}]),t}(l.Component);t.a=Object(s.withStyles)(y,{withTheme:!0})(g)},6361:function(e,t,r){"use strict";var n=r(6362),a=r.n(n),i=function(e){return e.features.forEach(function(e){e.properties["Area_(m^2)"]=a()(e)}),e};t.a=i},6362:function(e,t,r){"use strict";function n(e){return c.geomReduce(e,function(e,t){return e+a(t)},0)}function a(e){var t,r=0;switch(e.type){case"Polygon":return i(e.coordinates);case"MultiPolygon":for(t=0;t<e.coordinates.length;t++)r+=i(e.coordinates[t]);return r;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}function i(e){var t=0;if(e&&e.length>0){t+=Math.abs(o(e[0]));for(var r=1;r<e.length;r++)t-=Math.abs(o(e[r]))}return t}function o(e){var t,r,n,a,i,o,c,u=0,f=e.length;if(f>2){for(c=0;c<f;c++)c===f-2?(a=f-2,i=f-1,o=0):c===f-1?(a=f-1,i=0,o=1):(a=c,i=c+1,o=c+2),t=e[a],r=e[i],n=e[o],u+=(l(n[0])-l(t[0]))*Math.sin(l(r[1]));u=u*s*s/2}return u}function l(e){return e*Math.PI/180}Object.defineProperty(t,"__esModule",{value:!0});var c=r(6363),s=6378137;t.default=n},6363:function(e,t,r){"use strict";function n(e,t,r){if(null!==e)for(var a,i,o,l,c,s,u,f,d=0,h=0,_=e.type,p="FeatureCollection"===_,m="Feature"===_,b=p?e.features.length:1,y=0;y<b;y++){u=p?e.features[y].geometry:m?e.geometry:e,f=!!u&&"GeometryCollection"===u.type,c=f?u.geometries.length:1;for(var g=0;g<c;g++){var E=0,v=0;if(null!==(l=f?u.geometries[g]:u)){s=l.coordinates;var w=l.type;switch(d=!r||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===t(s,h,y,E,v))return!1;h++,E++;break;case"LineString":case"MultiPoint":for(a=0;a<s.length;a++){if(!1===t(s[a],h,y,E,v))return!1;h++,"MultiPoint"===w&&E++}"LineString"===w&&E++;break;case"Polygon":case"MultiLineString":for(a=0;a<s.length;a++){for(i=0;i<s[a].length-d;i++){if(!1===t(s[a][i],h,y,E,v))return!1;h++}"MultiLineString"===w&&E++,"Polygon"===w&&v++}"Polygon"===w&&E++;break;case"MultiPolygon":for(a=0;a<s.length;a++){for(v=0,i=0;i<s[a].length;i++){for(o=0;o<s[a][i].length-d;o++){if(!1===t(s[a][i][o],h,y,E,v))return!1;h++}v++}E++}break;case"GeometryCollection":for(a=0;a<l.geometries.length;a++)if(!1===n(l.geometries[a],t,r))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(e,t,r,a){var i=r;return n(e,function(e,n,a,o,l){i=0===n&&void 0===r?e:t(i,e,n,a,o,l)},a),i}function i(e,t){var r;switch(e.type){case"FeatureCollection":for(r=0;r<e.features.length&&!1!==t(e.features[r].properties,r);r++);break;case"Feature":t(e.properties,0)}}function o(e,t,r){var n=r;return i(e,function(e,a){n=0===a&&void 0===r?e:t(n,e,a)}),n}function l(e,t){if("Feature"===e.type)t(e,0);else if("FeatureCollection"===e.type)for(var r=0;r<e.features.length&&!1!==t(e.features[r],r);r++);}function c(e,t,r){var n=r;return l(e,function(e,a){n=0===a&&void 0===r?e:t(n,e,a)}),n}function s(e){var t=[];return n(e,function(e){t.push(e)}),t}function u(e,t){var r,n,a,i,o,l,c,s,u,f,d=0,h="FeatureCollection"===e.type,_="Feature"===e.type,p=h?e.features.length:1;for(r=0;r<p;r++){for(l=h?e.features[r].geometry:_?e.geometry:e,s=h?e.features[r].properties:_?e.properties:{},u=h?e.features[r].bbox:_?e.bbox:void 0,f=h?e.features[r].id:_?e.id:void 0,c=!!l&&"GeometryCollection"===l.type,o=c?l.geometries.length:1,a=0;a<o;a++)if(null!==(i=c?l.geometries[a]:l))switch(i.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===t(i,d,s,u,f))return!1;break;case"GeometryCollection":for(n=0;n<i.geometries.length;n++)if(!1===t(i.geometries[n],d,s,u,f))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===t(null,d,s,u,f))return!1;d++}}function f(e,t,r){var n=r;return u(e,function(e,a,i,o,l){n=0===a&&void 0===r?e:t(n,e,a,i,o,l)}),n}function d(e,t){u(e,function(e,r,n,a,i){var o=null===e?null:e.type;switch(o){case null:case"Point":case"LineString":case"Polygon":if(!1===t(E.feature(e,n,{bbox:a,id:i}),r,0))return!1;return}var l;switch(o){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon"}for(var c=0;c<e.coordinates.length;c++){var s=e.coordinates[c],u={type:l,coordinates:s};if(!1===t(E.feature(u,n),r,c))return!1}})}function h(e,t,r){var n=r;return d(e,function(e,a,i){n=0===a&&0===i&&void 0===r?e:t(n,e,a,i)}),n}function _(e,t){d(e,function(e,r,a){var i=0;if(e.geometry){var o=e.geometry.type;if("Point"!==o&&"MultiPoint"!==o){var l,c=0,s=0,u=0;return!1!==n(e,function(n,o,f,d,h){if(void 0===l||r>c||d>s||h>u)return l=n,c=r,s=d,u=h,void(i=0);var _=E.lineString([l,n],e.properties);if(!1===t(_,r,a,h,i))return!1;i++,l=n})&&void 0}}})}function p(e,t,r){var n=r,a=!1;return _(e,function(e,i,o,l,c){n=!1===a&&void 0===r?e:t(n,e,i,o,l,c),a=!0}),n}function m(e,t){if(!e)throw new Error("geojson is required");d(e,function(e,r,n){if(null!==e.geometry){var a=e.geometry.type,i=e.geometry.coordinates;switch(a){case"LineString":if(!1===t(e,r,n,0,0))return!1;break;case"Polygon":for(var o=0;o<i.length;o++)if(!1===t(E.lineString(i[o],e.properties),r,n,o))return!1}}})}function b(e,t,r){var n=r;return m(e,function(e,a,i,o){n=0===a&&void 0===r?e:t(n,e,a,i,o)}),n}function y(e,t){if(t=t||{},!E.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,a=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),l=l||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=c.length+o-1),E.lineString([c[o],c[o+1]],l,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o-1),E.lineString([c[i][o],c[i][o+1]],l,t);case"MultiLineString":return a<0&&(a=c.length+a),o<0&&(o=c[a].length+o-1),E.lineString([c[a][o],c[a][o+1]],l,t);case"MultiPolygon":return a<0&&(a=c.length+a),i<0&&(i=c[a].length+i),o<0&&(o=c[a][i].length-o-1),E.lineString([c[a][i][o],c[a][i][o+1]],l,t)}throw new Error("geojson is invalid")}function g(e,t){if(t=t||{},!E.isObject(t))throw new Error("options is invalid");var r,n=t.featureIndex||0,a=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,l=t.properties;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),l=l||e.features[n].properties,r=e.features[n].geometry;break;case"Feature":l=l||e.properties,r=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":r=e;break;default:throw new Error("geojson is invalid")}if(null===r)return null;var c=r.coordinates;switch(r.type){case"Point":return E.point(c,l,t);case"MultiPoint":return a<0&&(a=c.length+a),E.point(c[a],l,t);case"LineString":return o<0&&(o=c.length+o),E.point(c[o],l,t);case"Polygon":return i<0&&(i=c.length+i),o<0&&(o=c[i].length+o),E.point(c[i][o],l,t);case"MultiLineString":return a<0&&(a=c.length+a),o<0&&(o=c[a].length+o),E.point(c[a][o],l,t);case"MultiPolygon":return a<0&&(a=c.length+a),i<0&&(i=c[a].length+i),o<0&&(o=c[a][i].length-o),E.point(c[a][i][o],l,t)}throw new Error("geojson is invalid")}Object.defineProperty(t,"__esModule",{value:!0});var E=r(5740);t.coordEach=n,t.coordReduce=a,t.propEach=i,t.propReduce=o,t.featureEach=l,t.featureReduce=c,t.coordAll=s,t.geomEach=u,t.geomReduce=f,t.flattenEach=d,t.flattenReduce=h,t.segmentEach=_,t.segmentReduce=p,t.lineEach=m,t.lineReduce=b,t.findSegment=y,t.findPoint=g}});
//# sourceMappingURL=1.83b4061a.chunk.js.map